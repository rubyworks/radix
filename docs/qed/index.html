<html>
<head>
  <title>Radix</title>

  <!-- TODO: most of the css before the '*' can be removed. -->

  <style>
    #container{ margin: 0 auto; width: 800px; }

    /* Debug borders */
    /* p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 { border: 1px solid red; } */

    body { font-size: 14px; line-height: 20px; margin: 1em 5% 1em 5%; font-family: Verdana, Arial, Helvetica, sans-serif; }
    a { color: #336; text-decoration: underline; }
    a:visited { color: #334; }
    em { font-style: italic; }
    strong { font-weight: bold; }
    tt { color: navy; }

    h1, h2, h3, h4, h5, h6 { color: #223; margin-top: 1.2em; margin-bottom: 0.5em; line-height: 1.3; }
    h1 { border-bottom: 2px solid silver; }
    h2 { border-bottom: 2px solid silver; padding-top: 0.5em; }

    hr { color: #ccc; margin-top: 1.6em; }

    p { color: #222; text-align: justify; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.4em; }

    /* pre { padding: 10; margin: 0; font-family: monospace; font-size: 0.9em; } */

    pre.pass { color: green; }
    pre.fail { color: red; }
    pre.error { color: red; font-weight: bold; }

    span#author { color: #527bbd; font-weight: bold; font-size: 1.1em; }
    span#email { }
    span#revision { }

    div#footer { font-size: small; border-top: 2px solid silver; padding-top: 0.5em; margin-top: 4.0em; }
    div#footer-text { float: left; padding-bottom: 0.5em; }
    div#footer-badges { float: right; padding-bottom: 0.5em; }

    /* Block element content. */
    div.content { padding: 0; }

    /* Block element titles. */
    h1.title { font-weight: bold; text-align: left; font-size: 3em; margin-top: 1.0em; margin-bottom: 0.5em; }

    /* Block element titles. */
    div.title, caption.title { font-weight: bold; text-align: left; margin-top: 1.0em; margin-bottom: 0.5em; }
    div.title + * { margin-top: 0; }
    td div.title:first-child { margin-top: 0.0em; }
    div.content div.title:first-child { margin-top: 0.0em; }
    div.content + div.title { margin-top: 0.0em; }
    div.sidebarblock > div.content { background: #ffffee; border: 1px solid silver; padding: 0.5em; }

    img { border-style: none; }

    dl { margin-top: 0.8em; margin-bottom: 0.8em; }
    dt { margin-top: 0.5em; margin-bottom: 0; font-style: italic; }
    dd > *:first-child { margin-top: 0; }
    ul, ol { list-style-position: outside; }

    thead { font-weight: bold; }
    tfoot { font-weight: bold; }

    *{margin:0;padding:0;}
    html,body{height:100%;color:black;}
    body{background-color:white;font:13.34px helvetica,arial,freesans,clean,sans-serif;*font-size:small;}
    table{font-size:inherit;font:100%;}
    select,input[type=text],input[type=password],input[type=image],textarea{font:99% helvetica,arial,freesans,sans-serif;}
    select,option{padding:0 .25em;}
    optgroup{margin-top:.5em;}
    input.text{padding:1px 0;}
    pre,code{font:12px Monaco,"Courier New","DejaVu Sans Mono","Bitstream Vera Sans Mono",monospace;}
    body *{line-height:1.4em;}
    p{margin:1em 0;}
    img{border:0;}
    abbr{border-bottom:none;}

    .wikistyle h1,.wikistyle h2,.wikistyle h3,.wikistyle h4,.wikistyle h5,.wikistyle h6{border:0!important;}
    .wikistyle h1{font-size:170%!important;border-top:4px solid #aaa!important;padding-top:.5em!important;margin-top:1.5em!important;}
    .wikistyle h1:first-child{margin-top:0!important;padding-top:.25em!important;border-top:none!important;}
    .wikistyle h2{font-size:150%!important;margin-top:1.5em!important;border-top:4px solid #e0e0e0!important;padding-top:.5em!important;}
    .wikistyle h3{margin-top:1em!important;}
    .wikistyle p{margin:1em 0!important;line-height:1.5em!important;}
    .wikistyle ul{margin:1em 0 1em 2em!important;}
    .wikistyle ol{margin:1em 0 1em 2em!important;}
    .wikistyle ul ul,.wikistyle ul ol,.wikistyle ol ol,.wikistyle ol ul{margin-top:0!important;margin-bottom:0!important;}
    .wikistyle blockquote{margin:1em 0!important;border-left:5px solid #ddd!important;padding-left:.6em!important;color:#555!important;}
    .wikistyle dt{font-weight:bold!important;margin-left:1em!important;}
    .wikistyle dd{margin-left:2em!important;margin-bottom:1em!important;}
    .wikistyle table{margin:1em 0!important;}
    .wikistyle table th{border-bottom:1px solid #bbb!important;padding:.2em 1em!important;}
    .wikistyle table td{border-bottom:1px solid #ddd!important;padding:.2em 1em!important;}
    .wikistyle pre{margin:1em 0!important;font-size:90%!important;background-color:#f8f8ff!important;border:1px solid #dedede!important;padding:.5em!important;line-height:1.5em!important;color:#444!important;overflow:auto!important;}
    .wikistyle pre code{padding:0!important;font-size:100%!important;background-color:#f8f8ff!important;border:none!important;}
    .wikistyle code{font-size:90%!important;background-color:#f8f8ff!important;color:#444!important;padding:0 .2em!important;border:1px solid #dedede!important;}
    .wikistyle pre.console{margin:1em 0!important;font-size:90%!important;background-color:black!important;padding:.5em!important;line-height:1.5em!important;color:white!important;}
    .wikistyle pre.console code{padding:0!important;font-size:100%!important;background-color:black!important;border:none!important;color:white!important;}
    .wikistyle pre.console span{color:#888!important;}
    .wikistyle pre.console span.command{color:yellow!important;}

    .title { font-size: 2em; }
  </style>

  <!-- TODO: only include if these files exists -->
  <link href="../assets/styles/spec.css" type="text/css" rel="stylesheet">
  <!-- spec.css might be a problem with clobber -->
  <link href="spec.css" type="text/css" rel="stylesheet">

  

  <!-- JQuery is needed -->
  <script src="jquery.js" type="text/javascript" language="javascript"></script>

</head>

<body class="wikistyle">

  <!-- Side Table of Contents -->
  <div id="sidebar" style="position: fixed; top: 10; right: 10; background: white;">
    <a href="javascript: toc_toggle();">
      <img src="img/icon/book.jpg" height="30px;" style="border: none;" alt="TOC" align="right"/>
    </a>

    <div id="toc_side" class="toc">
    </div>
  </div>

  <div id="container">
    <div id="header">
      <img src="img/icon/book.jpg" align="left" style="padding-right: 10px;" alt=""/>

      <div class="title">Radix</div>

      <h1>Table of Contents</h1>

      <div class="toc">
      </div>
    </div>

    <div id="content">
      
<h1>Synopsis</h1>

<p>Radix provides the means of converting to and from any base. For example, a
number in base 256 can be represented by the array [100, 10] (ie. 100**256
+ 10**1) and easily converted to base 10.</p>

<pre>[100,10].b(256).to_i  #=&gt; 25610</pre>

<p>We can get an Array representation as well.</p>

<pre>[100,10].b(256).to_a(10)  #=&gt; [2,5,6,1,0]
[100,10].b(256).to_a(62)  #=&gt; [6,41,4]
[100,10].b(256).to_a(64)  #=&gt; [6,16,10]</pre>

<p>To get a String representation for any base use #to_s.</p>

<pre>[100,10].b(256).to_s(10)  #=&gt; &quot;25610&quot;
[100,10].b(256).to_s(62)  #=&gt; &quot;6 41 4&quot;
[100,10].b(256).to_s(64)  #=&gt; &quot;6 16 10&quot;</pre>

<p>Notice that anything above base 10 is seperated by a space divider. The
divider can be changed by providing a second argument.</p>

<pre>[100,10].b(256).to_s(64, ':')  #=&gt; &quot;6:16:10&quot;</pre>

<p>A string representation of a number can be converted upto base 62 (B62).</p>

<pre>&quot;10&quot;.b(62).to_s(10)  #=&gt; &quot;62&quot;
&quot;zz&quot;.b(62).to_s(10)  #=&gt; &quot;3843&quot;</pre>

<p>To encode a number with a base greater than 10, use an Array base. Radix
provides a built-in set of these, such as `BASE::B62`.</p>

<pre>[100,10].b(256).to_s(Radix::BASE::B62)  #=&gt; &quot;6f4&quot;</pre>

<p>To use a custom character set, use an array of characters as the base
rather than an integer. For example we can convert a base 10 number to
another base 10 number but useing a different encoding.</p>

<pre>base = %w[Q W E R T Y U I O U]

&quot;10&quot;.b(10).to_a(base)  #=&gt; [&quot;W&quot;, &quot;Q&quot;]

&quot;10&quot;.b(10).to_s(base)  #=&gt; &quot;WQ&quot;</pre>

<p>All of the above holds equally for floating point numbers.</p>


<h1>Radix Integer</h1>

<p>Radix provides an Integer class for working with integers in various bases.</p>

<pre>require 'radix'</pre>

<p>Radix extend the Integer, String and Array classes with the #b method which
simplifies the creation of Radix::Integer instances. The following return
the equivalent instance of Radix::Integer.</p>

<pre>a = 8.b(2)

b = &quot;1000&quot;.b(2)

c = [1, 0, 0, 0].b(2)

a.assert == b
b.assert == c
c.assert == a

a.assert == 8
b.assert == 8
c.assert == 8</pre>

<p>Radix integers can ve converted to other bases with the #convert method.</p>

<pre>b = &quot;1000&quot;.b(2)
d = b.convert(10)
d.digits.assert == [8]</pre>

<p>Radix::Integer supports all the usual mathematical operators.</p>

<pre>r = &quot;1000&quot;.b(2) + &quot;2&quot;.b(8)
r.assert == &quot;1010&quot;.b(2)
r.assert == &quot;12&quot;.b(8)
r.assert == &quot;10&quot;.b(10)</pre>

<p>A more complex example with a much higher base.</p>

<pre>r = &quot;AZ42&quot;.b(62) + &quot;54&quot;.b(10)
r.assert == &quot;2518124&quot;.b(10)
r.assert == 2518124</pre>

<p>Work with arrays for bases greater than 62.</p>

<pre>r = [100,10].b(256) + &quot;54&quot;.b(10)
r.assert == &quot;25664&quot;.b(10)</pre>


<h1>Radix Float</h1>

<p>Radix provides a Float class for working with floating point numbers in any
base.</p>

<pre>require 'radix'</pre>

<p>With it, the #b method extends String and Array classes to simplify all
mulit-base operations.</p>

<pre>b = &quot;100.01&quot;.b(2)
b.to_a.assert == [1,0,0,'.',0,1]</pre>

<p>Convert to base 10.</p>

<pre>t = b.convert(10)
t.to_a.assert == [4,'.',2,5]</pre>

<p>Like a Numeric class, Radix::Float’s can be added, subtracted, multipled,
etc.</p>

<pre>r = &quot;1000.01&quot;.b(2) + &quot;2&quot;.b(8)
r.assert == &quot;1010.01&quot;.b(2)
r.assert == &quot;12.2&quot;.b(8)
r.assert == &quot;10.25&quot;.b(10)</pre>

<p>Even complex conversions are supported.</p>

<pre>r = &quot;AZ42&quot;.b(62) + &quot;54&quot;.b(10)
r.assert == &quot;2518124&quot;.b(10)</pre>

<p>To work with bases greater than 62, use arrays. A ‘.’ entry in the
array can be used to separate the whole from the fractional part of the
number.</p>

<pre>r = [100,10,'.',64].b(256) + &quot;54&quot;.b(10)
r.assert == &quot;25664.25&quot;.b(10)</pre>


<h1>Radix Rational</h1>

<p>Radix also provides a Rational class. Like the Integer and Float classes
Radix::Rational delegates to an underlying instance of Ruby standard
Rational class.</p>

<pre>require 'radix'

b = [&quot;100&quot;,&quot;10&quot;].br(2)
b.assert = [2,1].br(10)</pre>

<p>When convert to Array or String Radix::Rational uses `/` to separate the
numerator from the denominator.</p>

<pre>b.to_a  #=&gt; [1,0,0,'/',1,0]
b.to_s  #=&gt; &quot;100/10&quot;</pre>

<p>To use a custom character set, use an array of characters as the base
rather than an integer. For example we can convert a base 10 number to
another base 10 number but useing a different encoding.</p>

<pre>base = %w[Q W E R T Y U I O U]

[&quot;10&quot;,&quot;1&quot;].br(10).to_a(base)  #=&gt; [&quot;W&quot;, &quot;Q&quot;, '/', 'W']

[&quot;10&quot;,&quot;1&quot;].br(10).to_s(base)  #=&gt; &quot;WQ/W&quot;</pre>


<h1>Radix Base</h1>

<p>Radix::Base encapsulates a base which can then be used to perform
conversions to and form that base.</p>

<p>NOTE: Radix::Base is the original Radix API. But with the advent of v2.0
and the new Integer and Float classes, it is outmoded. For now it is here
for backward compatibility. In a future version it may be deprecated, or
reworked to serve as the backbone of the other classes.</p>

<pre>require 'radix/base'</pre>

<p>First let’s try something we all know, hexideciaml. First we setup the
radix for each.</p>

<pre>b10 = Radix::Base.new(Radix::BASE::B10)
b16 = Radix::Base.new(Radix::BASE::B16)</pre>

<p>Now we can covert from one base to the other.</p>

<pre>b16.convert(&quot;16&quot; , b10).should == &quot;10&quot;
b16.convert(&quot;160&quot;, b10).should == &quot;A0&quot;
b16.convert(&quot;255&quot;, b10).should == &quot;FF&quot;</pre>

<p>To confirm, lets convert from deciaml to hexidecimal.</p>

<pre>b10.convert(&quot;10&quot;, b16).should == &quot;16&quot;
b10.convert(&quot;A0&quot;, b16).should == &quot;160&quot;
b10.convert(&quot;FF&quot;, b16).should == &quot;255&quot;</pre>

<p>If we we want to use standard encodings then we can simply provide an
integer base, rather than a Radix object.</p>

<pre>b10.convert(&quot;10&quot;, 16).should == &quot;16&quot;
b10.convert(&quot;A0&quot;, 16).should == &quot;160&quot;
b10.convert(&quot;FF&quot;, 16).should == &quot;255&quot;</pre>

<p>Now let’s try a more down to earth base, my favorite, senary, or base
six.</p>

<pre>b6  = Radix::Base.new(0..5)
b6.convert(&quot;39&quot;, 10).should == &quot;103&quot;</pre>

<p>And the notations need not be in ASCII order. Odd alternate notations can
be used as well.</p>

<pre>b10 = Radix::Base.new([:Q, :W, :E, :R, :T, :Y, :U, :I, :O, :U])
b10.convert(&quot;FF&quot;, 16) #=&gt; &quot;EYY&quot;</pre>

<h2>Encoding and Decoding</h2>

<p>Radix can also be used to encode and decode strings.</p>

<pre>b16.encode(&quot;CHARLIE&quot;).should == &quot;434841524C4945&quot;
b16.decode(&quot;434841524C4945&quot;).should == &quot;CHARLIE&quot;</pre>

<h2>Module Methods</h2>

<p>We can also use the module function to convert to and from standard
notations upto 62 without creating an instance of Radix::Base.</p>

<pre>Radix.convert(&quot;10&quot;, 16, 10).should == &quot;16&quot;
Radix.convert(&quot;A0&quot;, 16, 10).should == &quot;160&quot;
Radix.convert(&quot;FF&quot;, 16, 10).should == &quot;255&quot;</pre>

<p>Let’s try that again with the maximum base supported.</p>

<pre>Radix.convert(     &quot;62&quot;, 10, 62).should == &quot;10&quot;
Radix.convert(&quot;8814542&quot;, 10, 62).should == &quot;az42&quot;

Radix.convert(     &quot;10&quot;, 62, 10).should == &quot;62&quot;
Radix.convert(   &quot;az42&quot;, 62, 10).should == &quot;8814542&quot;</pre>

<p>Finally, we will demonstrate how to convert bases larger than 62. These can
only be represented as arrays since there are not enough latin characters
to represent them.</p>

<pre>Radix.convert_base([100, 10], 256, 10).should == [2, 5, 6, 1, 0]
Radix.convert_base([2, 5, 6, 1, 0], 10, 256).should == [100, 10]
Radix.convert_base([1, 0, 1, 0, 1], 2, 10).should == [2, 1]</pre>


    </div>
  </div>

  <br/><br/><br/>
</body>

</html>

<script src="../assets/scripts/spec.js" type="text/javascript" language="javascript"></script>

<script type="text/javascript" language="javascript">
  /*****************************************************************
   * $.toc()
   * by rebecca murphey
   * rmurphey gmail com
   *
   * This function is called on its own and takes as an argument
   * a list of selectors with which it will build a table of
   * contents. 
   *
   * The first selector will make up the top level of the TOC;
   * the second selector will make up the second level of the TOC;
   * etc.
   *
   * This function returns a div containing nested unordered lists;
   * each list item is linked to an anchor tag added before the item
   * on the page.
   *
   * usage: $.toc('h1,h2,h3').prependTo('body');
   ************************************************************************/
  (function($) { 
    $.toc = function(tocList) {
      $(tocList).addClass('jquery-toc');
      var tocListArray = tocList.split(',');
      $.each(tocListArray, function(i,v) { tocListArray[i] = $.trim(v); });
      var $elements = $('.jquery-toc');
      $('body').append('<div></div>');
      var $toc = $('body div:last');
      var lastLevel = 1;
      $toc.append('<ul class="jquery-toc-1"></ul>');
      $elements.each(function() {
        var $e = $(this);
        var text = $e.text();
        var anchor = text.replace(/ /g,'-');
        $e.before('<a name="' + anchor + '"></a>');
        var level;
        $.each(tocListArray, function(i,v) { 
          if (v.match(' ')) {
            var vArray = v.split(' '); 
            var e = vArray[vArray.length - 1];
          } else { e = v; }
          if ($e.is(e)) { level = i+1; } 
        });
        var className = 'jquery-toc-' + level;
        var li = '<li><a href="#' + anchor + '">' + text + '</a></li>';
        if (level == lastLevel) {
          $('ul.' + className + ':last',$toc).append(li);
        } else if (level > lastLevel) {
          var parentLevel = level - 1;
          var parentClassName = 'jquery-toc-' + parentLevel;
          $('ul.' + parentClassName + ':last',$toc).
            append('<ul class="' + className + '"></ul>');
          $('ul.' + className + ':last',$toc).append(li);
        } else if (level < lastLevel) {
          $('ul.' + className + ':last',$toc).append(li);
        }
        lastLevel = level;
      });
      var $toc_ul = $('ul.jquery-toc-1',$toc);
      $toc.remove();
      return($toc_ul);
   }
  })(jQuery);
</script>

<script>
  function toc_toggle() {
    $('#toc_side').toggle();
    $("pre").addClass("pass");
    $("pre:contains('FAIL:')").addClass("fail");
    $("pre:contains('ERROR:')").addClass("error");
  };

  $.toc('#content h1,h2,h3,h4').appendTo('.toc');

  toc_toggle();
</script>

